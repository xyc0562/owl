<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Checkpoint (owl-base.Owl_optimise_generic_sig.Impl.Checkpoint)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../../index.html">owl-base</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Owl_optimise_generic_sig.Impl.Checkpoint</span></h1></header><div class="spec type" id="type-state"><a href="#type-state" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>state</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-state.current_batch" class="anchored"><td class="def field"><a href="#type-state.current_batch" class="anchor"></a><code><span class="keyword">mutable </span>current_batch : int;</code></td></tr><tr id="type-state.batches_per_epoch" class="anchored"><td class="def field"><a href="#type-state.batches_per_epoch" class="anchor"></a><code><span class="keyword">mutable </span>batches_per_epoch : int;</code></td></tr><tr id="type-state.epochs" class="anchored"><td class="def field"><a href="#type-state.epochs" class="anchor"></a><code><span class="keyword">mutable </span>epochs : float;</code></td></tr><tr id="type-state.batches" class="anchored"><td class="def field"><a href="#type-state.batches" class="anchor"></a><code><span class="keyword">mutable </span>batches : int;</code></td></tr><tr id="type-state.loss" class="anchored"><td class="def field"><a href="#type-state.loss" class="anchor"></a><code><span class="keyword">mutable </span>loss : <a href="../index.html#type-t">t</a> array;</code></td></tr><tr id="type-state.start_at" class="anchored"><td class="def field"><a href="#type-state.start_at" class="anchor"></a><code><span class="keyword">mutable </span>start_at : float;</code></td></tr><tr id="type-state.stop" class="anchored"><td class="def field"><a href="#type-state.stop" class="anchor"></a><code><span class="keyword">mutable </span>stop : bool;</code></td></tr><tr id="type-state.gs" class="anchored"><td class="def field"><a href="#type-state.gs" class="anchor"></a><code><span class="keyword">mutable </span>gs : <a href="../index.html#type-t">t</a> array array;</code></td></tr><tr id="type-state.ps" class="anchored"><td class="def field"><a href="#type-state.ps" class="anchor"></a><code><span class="keyword">mutable </span>ps : <a href="../index.html#type-t">t</a> array array;</code></td></tr><tr id="type-state.us" class="anchored"><td class="def field"><a href="#type-state.us" class="anchor"></a><code><span class="keyword">mutable </span>us : <a href="../index.html#type-t">t</a> array array;</code></td></tr><tr id="type-state.ch" class="anchored"><td class="def field"><a href="#type-state.ch" class="anchor"></a><code><span class="keyword">mutable </span>ch : <a href="../index.html#type-t">t</a> array array array;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>Type definition of checkpoint</p></div></div><div class="spec type" id="type-typ"><a href="#type-typ" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>typ</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-typ.Batch" class="anchored"><td class="def constructor"><a href="#type-typ.Batch" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Batch</span><span class="keyword"> of </span>int</code></td></tr><tr id="type-typ.Epoch" class="anchored"><td class="def constructor"><a href="#type-typ.Epoch" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Epoch</span><span class="keyword"> of </span>float</code></td></tr><tr id="type-typ.Custom" class="anchored"><td class="def constructor"><a href="#type-typ.Custom" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Custom</span><span class="keyword"> of </span><a href="index.html#type-state">state</a> <span class="keyword">&#8209;&gt;</span> unit</code></td></tr><tr id="type-typ.None" class="anchored"><td class="def constructor"><a href="#type-typ.None" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">None</span></code></td><td class="doc"><p>(** Batch type. *)</p></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec val" id="val-init_state"><a href="#val-init_state" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>init_state : int <span class="keyword">&#8209;&gt;</span> float <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-state">state</a></code></div><div class="doc"><p>``init_state batches_per_epoch epochs`` initialises a state by specifying the
number of batches per epoch and the number of epochs in total.</p></div></div><div class="spec val" id="val-default_checkpoint_fun"><a href="#val-default_checkpoint_fun" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>default_checkpoint_fun : (string <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"><p>This function is used for saving intermediate files during optimisation.</p></div></div><div class="spec val" id="val-print_state_info"><a href="#val-print_state_info" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>print_state_info : <a href="index.html#type-state">state</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Print out the detail information of current ``state``.</p></div></div><div class="spec val" id="val-print_summary"><a href="#val-print_summary" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>print_summary : <a href="index.html#type-state">state</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Print out the summary of current ``state``.</p></div></div><div class="spec val" id="val-run"><a href="#val-run" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>run : <a href="index.html#type-typ">typ</a> <span class="keyword">&#8209;&gt;</span> (string <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-state">state</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Execute the computations defined in module ``typ``.</p></div></div><div class="spec val" id="val-to_string"><a href="#val-to_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>to_string : <a href="index.html#type-typ">typ</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p>Convert the module ``typ`` to its string representation.</p></div></div></body></html>